---
title: "household-income"
author: "Eric Mai"
last update: "1/27/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, eval = FALSE)
```

## Data Sources

Household income is used throughout Sourcebook to help analyze affordability
across Virginia. The main source for this data is the American Community Survey 
(ACS), which provides median household income by tenure, race/ethnicity, and
age group. Helpful sometimes is a distribution of household incomes
by tenure.

The following tables from ACS are pulled:

* B25119 - Median Household Income by Tenure
* B19013 - Median Household Income 
  + Append letters B-I for race and ethnicity
* B19049 - Median Household Income by Age of Householder
* B25118 - Tenure by Household Income

Median household income provides a better gauge of the **typical** household
income rather than the average because it manages for the impact of outliers. 
Using ACS 1-year estimates is preferable with dollar-denominated data because 
they are based on the most current data, therefore more likely to show 
year-to-year fluctuations.

However, 1-year estimates are only available for localities with populations
over 20,000. In this case, 5-year estimates must be used because it is the only
available data. 

It is also important to note that median household income data collected by the
U.S. Census Bureau is not immediately comparable across time. Inflation impacts
the comparability of dollar-denominated data across time. To account for this, 
dollar-denominated data should be adjusted to the most current year to make 
better comparisons. For more information on this, please see
[Using Dollar-Denominated Data]("https://www.census.gov/content/dam/Census/library/publications/2018/acs/acs_general_handbook_2018_ch10.pdf").


## Data Collection
```{r Download Median Household Tables, echo = T, message=FALSE, warning=FALSE, paged.print=FALSE, results='hide'}

# Load necessary libraries to pull data.
library(tidyverse)
library(tidycensus)

# Create object for years.

years <- 2010:2019

# Create objects for tables needed, which will be B25119, B19013, and B19049.

b25119 <- "B25119"
b19013 <- paste0("B19013", LETTERS[2:9])
b91049 <- "B19049"

b25119_defns <- load_variables(2019, "acs5") %>%
  filter(str_sub(name, end = 6) %in% b25119) %>%
  filter(str_detect(name, "PR") == FALSE)
```

  




